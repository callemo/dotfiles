# Plumbing pattern-matching rules
#
# To update the plumber run:
#	9p write plumb/rules <$HOME/lib/plumbing
#
# See also plumb(7).

include initial.plumbing

type is text
data matches 'commit ([0-9a-f]+)'
plumb start rc -c 'git -C '$wdir' show '$1' | plumb -i -d edit -a ''filename=+git/'$1''''

type is text
data matches '\[\[([0-9A-Za-z_/]+)\]\].?'
plumb start rc -c 'cd '$wdir'; B `{wkln '$1'}'
